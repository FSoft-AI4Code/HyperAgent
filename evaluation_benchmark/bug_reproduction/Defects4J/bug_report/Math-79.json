{"issue_id": "MATH-305", "title": "NPE in  KMeansPlusPlusClusterer unittest", "description": "\n<div class=\"user-content-block\">\n<p>When running this unittest, I am facing this NPE:<br/>\njava.lang.NullPointerException<br/>\n\tat org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer.assignPointsToClusters(KMeansPlusPlusClusterer.java:91)</p>\n<p>This is the unittest:</p>\n<p>package org.fao.fisheries.chronicles.calcuation.cluster;</p>\n<p>import static org.junit.Assert.assertEquals;<br/>\nimport static org.junit.Assert.assertTrue;</p>\n<p>import java.util.Arrays;<br/>\nimport java.util.List;<br/>\nimport java.util.Random;</p>\n<p>import org.apache.commons.math.stat.clustering.Cluster;<br/>\nimport org.apache.commons.math.stat.clustering.EuclideanIntegerPoint;<br/>\nimport org.apache.commons.math.stat.clustering.KMeansPlusPlusClusterer;<br/>\nimport org.fao.fisheries.chronicles.input.CsvImportProcess;<br/>\nimport org.fao.fisheries.chronicles.input.Top200Csv;<br/>\nimport org.junit.Test;</p>\n<p>public class ClusterAnalysisTest {</p>\n<p>\t@Test<br/>\n\tpublic void testPerformClusterAnalysis2() {<br/>\n\t\tKMeansPlusPlusClusterer&lt;EuclideanIntegerPoint&gt; transformer = new KMeansPlusPlusClusterer&lt;EuclideanIntegerPoint&gt;(<br/>\n\t\t\t\tnew Random(1746432956321l));<br/>\n\t\tEuclideanIntegerPoint[] points = new EuclideanIntegerPoint[] {<br/>\n\t\t\t\tnew EuclideanIntegerPoint(new int[] </p>\n{ 1959, 325100 }\n<p>),<br/>\n\t\t\t\tnew EuclideanIntegerPoint(new int[] </p>\n{ 1960, 373200 }\n<p>), };<br/>\n\t\tList&lt;Cluster&lt;EuclideanIntegerPoint&gt;&gt; clusters = transformer.cluster(Arrays.asList(points), 1, 1);<br/>\n\t\tassertEquals(1, clusters.size());</p>\n<p>\t}</p>\n<p>}</p>\n</div>\n"}