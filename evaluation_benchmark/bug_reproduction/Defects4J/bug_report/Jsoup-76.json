{"issue_id": "825", "title": "Newline after pre and textarea not handled properly", "description": "\n<p dir=\"auto\">The WHATWG spec for HTML syntax indicates that if there is a newline directly after an opening <code class=\"notranslate\">&lt;pre&gt;</code> or <code class=\"notranslate\">&lt;textarea&gt;</code>, it should be removed.</p>\n<p dir=\"auto\"><a href=\"https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\" rel=\"nofollow\">https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions</a></p>\n<p dir=\"auto\">jsoup currently does not do this:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content='Jsoup.parse(\"&lt;pre&gt;\\nabc  def&lt;/pre&gt;\").select(\"pre\").get(0).childNodes().get(0).text();\n// Outputs  \" abc def\"\n// Expected \"abc def\"'><pre class=\"notranslate\"><code>Jsoup.parse(\"&lt;pre&gt;\\nabc  def&lt;/pre&gt;\").select(\"pre\").get(0).childNodes().get(0).text();\n// Outputs  \" abc def\"\n// Expected \"abc def\"\n</code></pre></div>\n<p dir=\"auto\">Arguably, jsoup is also wrong for the value of <code class=\"notranslate\">getWholeText()</code>, although I guess this depends on one's interpretation of what <code class=\"notranslate\">getWholeText()</code> is supposed to do. I am hoping that it intends to correspond to the value of <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeValue\" rel=\"nofollow\">Node.nodeValue</a>, in which case:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content='Jsoup.parse(\"&lt;pre&gt;\\nabc  def&lt;/pre&gt;\").select(\"pre\").get(0).childNodes().get(0).getWholeText();\n// Outputs  \"\\nabc  def\"\n// Expected \"abc  def\" \n\nJsoup.parse(\"&lt;pre&gt;\\n\\nabc  def&lt;/pre&gt;\").select(\"pre\").get(0).childNodes().get(0).getWholeText();\n// Outputs  \"\\n\\nabc  def\"\n// Expected \"\\nabc  def\"'><pre class=\"notranslate\"><code>Jsoup.parse(\"&lt;pre&gt;\\nabc  def&lt;/pre&gt;\").select(\"pre\").get(0).childNodes().get(0).getWholeText();\n// Outputs  \"\\nabc  def\"\n// Expected \"abc  def\" \n\nJsoup.parse(\"&lt;pre&gt;\\n\\nabc  def&lt;/pre&gt;\").select(\"pre\").get(0).childNodes().get(0).getWholeText();\n// Outputs  \"\\n\\nabc  def\"\n// Expected \"\\nabc  def\"\n</code></pre></div>\n"}