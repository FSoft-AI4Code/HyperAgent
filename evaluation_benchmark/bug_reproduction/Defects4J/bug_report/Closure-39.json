{"issue_id": "643", "title": "externExport with @typedef can generate invalid externs", "description": "<b>What steps will reproduce the problem?</b>\n1. Create a file that has a @typedef and code referencing the type def above and below the typedef declaration.\r\n2. Run the closure compiler and grab the externExport string stored on the last result for review.\r\n3. I have attached both source and output files displaying the issue.\r\n\r\n<b>What is the expected output? What do you see instead?</b>\n\r\nThe code above the @typedef references the aliased name of the @typedef as expected however the code below the @typedef tries embedding the body of the @typedef and ends up truncating it if the length is too long with a &quot;...&quot;. This throws bad type errors when compiling against this extern. What is odd is this only seems to be the case when the parameter with the type is optional. When neither are optional it embeds the types, which is not a big deal, except when types are long; they get truncated and throw errors.\r\n\r\n\r\n<b>What version of the product are you using? On what operating system?</b>\n\r\nplovr built from revision 3103:d6db24beeb7f\r\nRevision numbers for embedded Closure Tools:\r\nClosure Library:    1374\r\nClosure Compiler:   1559\r\nClosure Templates:    23\r\n\r\n<b>Please provide any additional information below.</b>\n"}