{"issue_id": "820", "title": "Obfuscated code triggers TypeError in Firefox", "description": "The Closure Compiler is a great tool, but I'm having problems with it. It often produces code that triggers TypeError in Firefox, even though original code does not. Here is why. The original code may look as follows:\r\n\r\nfunction(argument){\r\n...//use argument\r\nvar variable = ...;\r\n...//argument not used anymore\r\n}\r\n\r\nBut often Closure Compiler will translate it to:\r\nfunction(a){\r\n...\r\nvar a = ...;\r\n...\r\n}\r\n\r\nThis is not wrong JS, since argument is no longer used, Closure Compiler tries to reuse the name 'a' for something else.\r\n\r\nThis triggers the following in Firefox 13-15:\r\nTypeError: variable a re-declares argument\r\n\r\nStill, the resulting code is correct and runs, but it's very annoying debugging it when I'm getting all the time a lot of TypeErrors in the console.\r\n\r\nAlso, our customers have noticed these TypeErrors when testing the product and it undermines our code reliability.\r\n\r\nCould you please rename variables in such a way as to avoid these TypeErrors (not to rename vars in a way that will coincide with function argument names)?\r\n\r\n<b>What steps will reproduce the problem?</b>\nThis happens reproducibly on our real-life JS input, which I cannot submit for various reasons. If my problem description is not clear enough, please make a comment and I will try to construct some artificial example that also triggers the TypeError.\r\n\r\n<b>What is the expected output? What do you see instead?</b>\nThe expected output is obfuscated code with variables renamed to unique names, in order not to trigger TypeError in Firefox. Instead I see variables renamed to the same name, which runs OK, but Firefox complains with TypeError.\r\n\r\n<b>What version of the product are you using? On what operating system?</b>\nClosure Compiler (http://code.google.com/closure/compiler)\r\nVersion: 20120917 (revision 2180)\r\nBuilt on: 2012/09/17 14:33\r\n\r\n<b>Please provide any additional information below.</b>\n"}