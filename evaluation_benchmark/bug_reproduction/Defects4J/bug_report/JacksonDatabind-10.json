{"issue_id": "705", "title": "JsonAnyGetter doesn't work with JsonSerialize (except with keyUsing)", "description": "\n<p dir=\"auto\">(This is happening with 2.5.0. Haven't tried 2.5.1 but I couldn't see any related issue anyway)</p>\n<p dir=\"auto\">Jackson ignores JsonSerialize annotation when there is JsonAnyGetter annotation.</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  @JsonSerialize(using = MySerializer.class)\n  // or\n  @JsonSerialize(converter = MyConverter.class)\n  @JsonAnyGetter\n  public Map&lt;String, String&gt; getParameters(){\n    return parameters;\n  }\"><pre>  <span class=\"pl-c1\">@</span><span class=\"pl-c1\">JsonSerialize</span>(<span class=\"pl-s1\">using</span> = <span class=\"pl-smi\">MySerializer</span>.<span class=\"pl-s1\">class</span>)\n  <span class=\"pl-c\">// or</span>\n  <span class=\"pl-c1\">@</span><span class=\"pl-c1\">JsonSerialize</span>(<span class=\"pl-s1\">converter</span> = <span class=\"pl-smi\">MyConverter</span>.<span class=\"pl-s1\">class</span>)\n  <span class=\"pl-c1\">@</span><span class=\"pl-c1\">JsonAnyGetter</span>\n  <span class=\"pl-k\">public</span> <span class=\"pl-smi\">Map</span>&lt;<span class=\"pl-smi\">String</span>, <span class=\"pl-smi\">String</span>&gt; <span class=\"pl-s1\">getParameters</span>(){\n    <span class=\"pl-k\">return</span> <span class=\"pl-s1\">parameters</span>;\n  }</pre></div>\n<p dir=\"auto\">except</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"@JsonSerialize(keyUsing = MyKeySerializer.class)\"><pre><span class=\"pl-c1\">@</span><span class=\"pl-c1\">JsonSerialize</span>(<span class=\"pl-s1\">keyUsing</span> = <span class=\"pl-smi\">MyKeySerializer</span>.<span class=\"pl-s1\">class</span>)</pre></div>\n<p dir=\"auto\">(haven't tried each setting. Only tried keyUsing because I've seen a different issue (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-hovercard-type=\"issue\" data-hovercard-url=\"/FasterXML/jackson-databind/issues/661/hovercard\" data-id=\"52946831\" data-permission-text=\"Title is private\" data-url=\"https://github.com/FasterXML/jackson-databind/issues/661\" href=\"https://github.com/FasterXML/jackson-databind/issues/661\">#661</a>) with it)<br/>\nThen it works. But I need the converter, so..</p>\n<p dir=\"auto\">For the time being I will use</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  @JsonAnyGetter\n  public Map&lt;String, JsonNode&gt; getParameters(){\n    return new MyConverter().convert(parameters);\n  }\"><pre>  <span class=\"pl-c1\">@</span><span class=\"pl-c1\">JsonAnyGetter</span>\n  <span class=\"pl-k\">public</span> <span class=\"pl-smi\">Map</span>&lt;<span class=\"pl-smi\">String</span>, <span class=\"pl-smi\">JsonNode</span>&gt; <span class=\"pl-s1\">getParameters</span>(){\n    <span class=\"pl-k\">return</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">MyConverter</span>().<span class=\"pl-en\">convert</span>(<span class=\"pl-s1\">parameters</span>);\n  }</pre></div>\n<p dir=\"auto\">but I'd prefer to stick to annotations.</p>\n"}