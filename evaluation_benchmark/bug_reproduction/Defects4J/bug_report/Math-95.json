{"issue_id": "MATH-227", "title": "denominatorDegreeOfFreedom in FDistribution leads to IllegalArgumentsException in UnivariateRealSolverUtils.bracket", "description": "\n<div class=\"user-content-block\">\n<p>We are using the FDistributionImpl from the commons.math project to do<br/>\nsome statistical calculations, namely receiving the upper and lower<br/>\nboundaries of a confidence interval. Everything is working fine and the<br/>\nresults are matching our reference calculations.</p>\n<p>However, the FDistribution behaves strange if a<br/>\ndenominatorDegreeOfFreedom of 2 is used, with an alpha-value of 0.95.<br/>\nThis results in an IllegalArgumentsException, stating:</p>\n<p>Invalid endpoint parameters:  lowerBound=0.0 initial=Infinity<br/>\nupperBound=1.7976931348623157E308</p>\n<p>coming from<br/>\norg.apache.commons.math.analysis.UnivariateRealSolverUtils.bracket</p>\n<p>The problem is the 'initial' parameter to that function, wich is<br/>\nPOSITIVE_INFINITY and therefore not within the boundaries. I already<br/>\npinned down the problem to the FDistributions getInitialDomain()-method,<br/>\nwich goes like:</p>\n<p>        return getDenominatorDegreesOfFreedom() /<br/>\n                    (getDenominatorDegreesOfFreedom() - 2.0);</p>\n<p>Obviously, in case of denominatorDegreesOfFreedom == 2, this must lead<br/>\nto a division-by-zero, resulting in POSTIVE_INFINITY. The result of this<br/>\noperation is then directly passed into the<br/>\nUnivariateRealSolverUtils.bracket() - method as second argument.</p>\n</div>\n"}