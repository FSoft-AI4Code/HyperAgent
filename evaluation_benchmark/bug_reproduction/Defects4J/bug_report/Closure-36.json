{"issue_id": "668", "title": "goog.addSingletonGetter prevents unused class removal", "description": "<b>What steps will reproduce the problem?</b>\n\r\n// ==ClosureCompiler==\r\n// @compilation_level ADVANCED_OPTIMIZATIONS\r\n// @output_file_name default.js\r\n// @use_closure_library true\r\n// @formatting pretty_print,print_input_delimiter\r\n// @warning_level VERBOSE\r\n// @debug true\r\n// ==/ClosureCompiler==\r\n\r\ngoog.provide('foo');\r\n\r\nvar foo = function() { this.values = []; };\r\ngoog.addSingletonGetter(foo);\r\n\r\nfoo.prototype.add = function(value) {this.values.push(value)};\r\n\r\n\r\n<b>What is the expected output? What do you see instead?</b>\n\r\nExpect: The code is completely removed.\r\n\r\nInstead:\r\n\r\n(function($ctor$$) {\r\n  $ctor$$.$getInstance$ = function $$ctor$$$$getInstance$$() {\r\n    return $ctor$$.$instance_$ || ($ctor$$.$instance_$ = new $ctor$$)\r\n  }\r\n})(function() {\r\n});\r\n\r\n\r\nWhat version of the product are you using? On what operating system?\r\n\r\nhttp://closure-compiler.appspot.com on Feb 28, 2012\r\n\r\nPlease provide any additional information below.\r\n\r\n\r\n"}