{"issue_id": "367", "title": "RuntimeException when compiling with extern prototype", "description": "<b>What steps will reproduce the problem?</b>\n\r\n1. java -jar compiler.jar --compilation_level ADVANCED_OPTIMIZATIONS --externs prototype.js --js bootloader.js\r\n\r\n<b>What is the expected output? What do you see instead?</b>\n\r\njava.lang.RuntimeException: java.lang.RuntimeException: INTERNAL COMPILER ERROR.\r\nPlease report this problem.\r\nnull\r\n  Node(FUNCTION ): prototype.js:213:11\r\n  function Str(key, holder, stack) {\r\n  Parent(BLOCK): prototype.js:160:12\r\n(function() {\r\n\r\n\tat com.google.javascript.jscomp.Compiler.runCallable(Unknown Source)\r\n\tat com.google.javascript.jscomp.Compiler.runInCompilerThread(Unknown Source)\r\n\tat com.google.javascript.jscomp.Compiler.compile(Unknown Source)\r\n\tat com.google.javascript.jscomp.Compiler.compile(Unknown Source)\r\n\tat com.google.javascript.jscomp.AbstractCommandLineRunner.doRun(Unknown Source)\r\n\tat com.google.javascript.jscomp.AbstractCommandLineRunner.run(Unknown Source)\r\n\tat com.google.javascript.jscomp.CommandLineRunner.main(Unknown Source)\r\nCaused by: java.lang.RuntimeException: INTERNAL COMPILER ERROR.\r\nPlease report this problem.\r\nnull\r\n  Node(FUNCTION ): prototype.js:213:11\r\n  function Str(key, holder, stack) {\r\n  Parent(BLOCK): prototype.js:160:12\r\n(function() {\r\n\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:129)\r\n\tat com.google.javascript.jscomp.Normalize$DuplicateDeclarationHandler.onRedeclaration(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.declareVar(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanVars(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.scanRoot(Unknown Source)\r\n\tat com.google.javascript.jscomp.SyntacticScopeCreator.createScope(Unknown Source)\r\n\tat com.google.javascript.jscomp.NodeTraversal.getScope(Unknown Source)\r\n\r\n\r\n<b>What version of the product are you using? On what operating system?</b>\nVersion: 706\r\nBuilt on: 2011/01/19 19:53\r\n\r\nMac OS X 10.6.0\r\n"}