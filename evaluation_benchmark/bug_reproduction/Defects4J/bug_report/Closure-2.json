{"issue_id": "884", "title": "combining @interface and multiple @extends can crash compiler", "description": "\r\nCompile this:\r\n---------------------------------\r\n// ==ClosureCompiler==\r\n// @compilation_level SIMPLE_OPTIMIZATIONS\r\n// @warning_level VERBOSE\r\n// @output_file_name default.js\r\n// ==/ClosureCompiler==\r\n\r\n/**\r\n * @interface\r\n * @extends {unknown_1}\r\n * @extends {unknown_2}\r\n */\r\nfunction Foo() {}\r\n---------------------------------\r\n\r\n=&gt; Get this..\r\n---------------------------------------\r\n23: java.lang.NullPointerException\r\n\tat com.google.javascript.jscomp.TypeCheck.checkInterfaceConflictProperties(TypeCheck.java:1544)\r\n\tat com.google.javascript.jscomp.TypeCheck.visitFunction(TypeCheck.java:1635)\r\n\tat com.google.javascript.jscomp.TypeCheck.visit(TypeCheck.java:761)\r\n\tat com.google.javascript.jscomp.NodeTraversal.traverseBranch(NodeTraversal.java:509)\r\n\tat com.google.javascript.jscomp.NodeTraversal.traverseBranch(NodeTraversal.java:502)\r\n\tat com.google.javascript.jscomp.NodeTraversal.traverseBranch(NodeTraversal.java:502)\r\n\tat com.google.javascript.jscomp.NodeTraversal.traverseWithScope(NodeTraversal.java:347)\r\n\tat com.google.javascript.jscomp.TypeCheck.check(TypeCheck.java:400)\r\n\tat com.google.javascript.jscomp.TypeCheck.process(TypeCheck.java:371)\r\n\tat com.google.javascript.jscomp.DefaultPassConfig$29$1.process(DefaultPassConfig.java:1209)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer$PassFactoryDelegate.processInternal(PhaseOptimizer.java:303)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer$NamedPass.process(PhaseOptimizer.java:279)\r\n\tat com.google.javascript.jscomp.PhaseOptimizer.process(PhaseOptimizer.java:191)\r\n\tat com.google.javascript.jscomp.Compiler.check(Compiler.java:814)\r\n\tat com.google.javascript.jscomp.Compiler.compileInternal(Compiler.java:729)\r\n\tat com.google.javascript.jscomp.Compiler.access$000(Compiler.java:85)\r\n\tat com.google.javascript.jscomp.Compiler$2.call(Compiler.java:637)\r\n\tat com.google.javascript.jscomp.Compiler$2.call(Compiler.java:634)\r\n\tat com.google.javascript.jscomp.Compiler.runInCompilerThread(Compiler.java:694)\r\n\tat com.google.javascript.jscomp.Compiler.compile(Compiler.java:634)\r\n\tat com.google.javascript.jscomp.Compiler.compile(Compiler.java:590)\r\n\tat com.google.javascript.jscomp.webservice.backend.CompilerInvokerImpl.compile(CompilerInvokerImpl.java:47)\r\n\tat com.google.javascript.jscomp.webservice.backend.ServerController.executeRequest(ServerController.java:177)\r\n\tat com.google.javascript.jscomp.webservice.backend.CompilationRequestHandler.serviceParsedRequest(CompilationRequestHandler.java:180)\r\n\tat com.google.javascript.jscomp.webservice.backend.CompilationRequestHandler.service(CompilationRequestHandler.java:162)\r\n\tat com.google.javascript.jscomp.webservice.frontend.CompilationServlet.doPost(CompilationServlet.java:83)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:102)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\r\n\tat com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\r\n\tat com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\r\n\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)\r\n\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)\r\n\tat com.google.tracing.TraceContext.runInContext(TraceContext.java:703)\r\n\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)\r\n\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)\r\n\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\n\r\nOriginal Post Data: \r\noutput_format=json&amp;output_info=compiled_code&amp;output_info=warnings&amp;output_info=errors&amp;output_info=statistics&amp;compilation_level=SIMPLE_OPTIMIZATIONS&amp;warning_level=VERBOSE&amp;output_file_name=default.js&amp;js_code=%2F**%0A*%20%40interface%0A*%20%40extends%20%7BA%7D%0A*%20%40extends%20%7BB%7D%0A*%2F%0Afunction%20Foo()%20%7B%7D\r\n------------------\r\n\r\n\r\nSeems like a combination of @interface plus more than one @extend and where at least one of the @extend types are unknown causes a crash.\r\n\r\nRegards\r\n/ Fredrik Blomqvist"}