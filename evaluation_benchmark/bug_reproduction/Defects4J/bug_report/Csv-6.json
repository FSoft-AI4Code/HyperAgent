{"issue_id": "CSV-111", "title": "CSVRecord.toMap() fails if row length shorter than header length", "description": "\n<div class=\"user-content-block\">\n<p>Similar to <a class=\"issue-link\" data-issue-key=\"CSV-96\" href=\"https://issues.apache.org/jira/browse/CSV-96\" title=\"CSVRecord does not verify that the length of the header mapping matches the number of values\"><del>CSV-96</del></a>, if .toMap() is called on a record that has fewer fields than we have header columns we'll get an ArrayOutOfBoundsException.</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">@Test\n<span class=\"code-keyword\">public</span> void testToMapWhenHeaderTooLong() <span class=\"code-keyword\">throws</span> Exception {\n   <span class=\"code-keyword\">final</span> CSVParser parser = <span class=\"code-keyword\">new</span> CSVParser(<span class=\"code-quote\">\"a,b\"</span>, CSVFormat.newBuilder().withHeader(<span class=\"code-quote\">\"A\"</span>, <span class=\"code-quote\">\"B\"</span>, <span class=\"code-quote\">\"C\"</span>).build());\n   <span class=\"code-keyword\">final</span> CSVRecord record = parser.iterator().next();\n   record.toMap();\n}\n</pre>\n</div></div>\n</div>\n"}