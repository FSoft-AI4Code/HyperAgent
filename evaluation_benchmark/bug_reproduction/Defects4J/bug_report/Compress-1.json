{"issue_id": "COMPRESS-28", "title": "CPIO reports unexpected EOF", "description": "\n<div class=\"user-content-block\">\n<p>When unpacking an CPIO archive (made with the compress classes or even made with OSX cpio comandline tool) an EOF exception is thrown.<br/>\nHere is the testcode:</p>\n<p>        final File input = getFile(\"cmdcreated.cpio\");</p>\n<p>        final InputStream in = new FileInputStream(input);<br/>\n        CpioArchiveInputStream cin = new CpioArchiveInputStream(in);</p>\n<p>        CpioArchiveEntry entry = null;</p>\n<p>        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry()) != null) </p>\n{\n            File target = new File(dir, entry.getName());\n            final OutputStream out = new FileOutputStream(target);\n            IOUtils.copy(in, out);\n            out.close();\n        }\n\n<p>        cin.close();</p>\n<p>Stacktrace is here:</p>\n<p>java.io.EOFException<br/>\n\tat org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.readFully(CpioArchiveInputStream.java:293)<br/>\n\tat org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.getNextCPIOEntry(CpioArchiveInputStream.java:168)<br/>\n\tat org.apache.commons.compress.archivers.cpio.CpioArchiveInputStreamTest.testCpioUnpack(CpioArchiveInputStreamTest.java:26)<br/>\n\t...</p>\n<p>This happens with the first read access to the archive. It occured while my try to improve the testcases.</p>\n</div>\n"}