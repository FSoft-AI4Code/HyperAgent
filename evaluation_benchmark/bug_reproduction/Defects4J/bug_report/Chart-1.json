{"issue_id": "983", "title": "#983 Potential NPE in AbstractCategoryItemRender.getLegendItems()\n\n<small>\n<a class=\"icon\" href=\"feed.rss\" rel=\"nofollow\" title=\"Follow this Ticket\"><i class=\"fa fa-rss\"></i></a>\n</small>\n", "description": "\n<div><div class=\"markdown_content\"><p>Setting up a working copy of the current JFreeChart trunk in Eclipse I got a warning about a null pointer access in this bit of code from AbstractCategoryItemRender.java:</p>\n<p>public LegendItemCollection getLegendItems() {<br/>\nLegendItemCollection result = new LegendItemCollection();<br/>\nif (this.plot == null) {<br/>\nreturn result;<br/>\n}<br/>\nint index = this.plot.getIndexOf(this);<br/>\nCategoryDataset dataset = this.plot.getDataset(index);<br/>\nif (dataset != null) {<br/>\nreturn result;<br/>\n}<br/>\nint seriesCount = dataset.getRowCount();<br/>\n...<br/>\n}</p>\n<p>The warning is in the last code line where seriesCount is assigned. The variable dataset is guaranteed to be null in this location, I suppose that the check before that should actually read \"if (dataset == null)\", not \"if (dataset != null)\".</p>\n<p>This is trunk as of 2010-02-08.</p></div></div>\n"}