{"issue_id": "COMPRESS-171", "title": "createArchiveInputStream detects text files less than 100 bytes as tar archives", "description": "\n<div class=\"user-content-block\">\n<p>The fix for <a class=\"issue-link\" data-issue-key=\"COMPRESS-117\" href=\"https://issues.apache.org/jira/browse/COMPRESS-117\" title=\"Certain tar files not recognised by ArchiveStreamFactory\"><del>COMPRESS-117</del></a> which modified ArchiveStreamFactory().createArchiveInputStream(inputstream) results in short text files (empirically seems to be those &lt;= 100 bytes) being detected as tar archives which obviously is not desirable if one wants to know whether or not the files are archives.<br/>\nI'm not an expert on compressed archives but perhaps the heuristic that if a stream is interpretable as a tar file without an exception being thrown should only be applied on archives greater than 100 bytes?</p>\n</div>\n"}