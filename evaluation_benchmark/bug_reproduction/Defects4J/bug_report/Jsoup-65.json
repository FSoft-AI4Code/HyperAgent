{"issue_id": "807", "title": "Parser error on &lt;template&gt; inside &lt;tr&gt;", "description": "\n<p dir=\"auto\">I've been experimenting with jsoup as a validator for TensorBoard code and I encountered a bug.</p>\n<p dir=\"auto\">If I have code like this:</p>\n<div class=\"highlight highlight-text-html-basic notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content='          &lt;tr&gt;\n            &lt;th&gt;&lt;/th&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;template is=\"dom-if\" if=\"{{smoothingEnabled}}\"&gt;\n              &lt;th&gt;Smoothed&lt;/th&gt;\n            &lt;/template&gt;   \n            &lt;th&gt;Value&lt;/th&gt;\n            &lt;th&gt;Step&lt;/th&gt;\n            &lt;th&gt;Time&lt;/th&gt;\n            &lt;th&gt;Relative&lt;/th&gt;\n          &lt;/tr&gt;'><pre>          <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">tr</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span><span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>Name<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">template</span> <span class=\"pl-c1\">is</span>=\"<span class=\"pl-s\">dom-if</span>\" <span class=\"pl-c1\">if</span>=\"<span class=\"pl-s\">{{smoothingEnabled}}</span>\"<span class=\"pl-kos\">&gt;</span>\n              <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>Smoothed<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">template</span><span class=\"pl-kos\">&gt;</span>   \n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>Value<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>Step<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>Time<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n            <span class=\"pl-kos\">&lt;</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>Relative<span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">th</span><span class=\"pl-kos\">&gt;</span>\n          <span class=\"pl-kos\">&lt;/</span><span class=\"pl-ent\">tr</span><span class=\"pl-kos\">&gt;</span></pre></div>\n<p dir=\"auto\">I get errors like this:</p>\n<p dir=\"auto\">ERROR: tensorflow/tensorboard/components/vz_line_chart/vz-line-chart.html (offset 1282): Unexpected token [StartTag] when in state [InTable]<br/>\nERROR: tensorflow/tensorboard/components/vz_line_chart/vz-line-chart.html (offset 1338): Unexpected token [EndTag] when in state [InTable]<br/>\nERROR: tensorflow/tensorboard/components/vz_line_chart/vz-line-chart.html (offset 1338): Unexpected token [EndTag] when in state [InBody]</p>\n<p dir=\"auto\">Please note that those offset numbers point to the <code class=\"notranslate\">&lt;template&gt;</code> tags.</p>\n<p dir=\"auto\">Template tag is legal here because <a href=\"https://www.w3.org/TR/html5/tabular-data.html#the-tr-element\" rel=\"nofollow\">https://www.w3.org/TR/html5/tabular-data.html#the-tr-element</a> says content model for <code class=\"notranslate\">tr</code> is \"Zero or more td, th, and script-supporting elements\" and <code class=\"notranslate\">template</code> is a script supporting element.</p>\n"}