{"issue_id": "1102", "title": "(2.7-regress) Handling of deprecated <code>SimpleType.construct()</code> too minimalistic", "description": "\n<p dir=\"auto\">(note: spun from <a href=\"https://github.com/FasterXML/jackson/issues/48\">https://github.com/FasterXML/jackson/issues/48</a>)</p>\n<p dir=\"auto\">Due to changes in type resolution, most direct construction methods in <code class=\"notranslate\">JavaType</code> sub-classes can not be fully supported. Failure modes are typically with complex cases (and expected to be rare), with one exception: use of <code class=\"notranslate\">SimpleType.construct(Class)</code>, because:</p>\n<ol dir=\"auto\">\n<li>This is mostly used for complex types, and not just \"well-known\" interfaces like <code class=\"notranslate\">List</code>, <code class=\"notranslate\">Map</code>; so actual access to at least immediate fields is necessary (and similarly lack of super-type info is problematic), and</li>\n<li>Its usage is likely to be wide-spread, despite existence of preferable methods (<code class=\"notranslate\">TypeFactory</code>)</li>\n<li>Since refactoring of type resolution was not anticipated early enough in advance, deprecation of methods we want to move users away from could not be done in 2.6, as it should have been (in perfect case)</li>\n</ol>\n<p dir=\"auto\">Exact reasoning behind problems is quite complicated: but the fundamental reason is that <code class=\"notranslate\">TypeFactory</code> has all the logic to do the generic resolution; <code class=\"notranslate\">JavaType</code> has (and should have) very little if any. Since no reference to the factory is passed via constructors/factory methods, they can not properly delegate resolution tasks. This is why direct calls should only be made with all necessary, pre-resolved information; passing <code class=\"notranslate\">JavaType</code>s for elements, not <code class=\"notranslate\">Class</code>.<br/>\nInability to resolve things means that super-types can not be properly resolved, for example. Handling of fields, methods will also be inexact wrt generic types.</p>\n<p dir=\"auto\">The first immediate problem is something that should be addressable: introspection by POJO deserializer builder does not find any fields or methods. It should be possible to at least find them, even if type resolution for generic types will not work well. This should be acceptable for the common (and reported) case of constructing element types for <code class=\"notranslate\">Collection</code>s and <code class=\"notranslate\">Map</code>s: generic parameterization will not be accessible anyway.</p>\n<p dir=\"auto\">There are other potential issues to address as best we can, but first things first.</p>\n"}