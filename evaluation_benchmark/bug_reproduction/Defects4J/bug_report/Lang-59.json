{"issue_id": "LANG-299", "title": "Bug in method appendFixedWidthPadRight of class StrBuilder causes an ArrayIndexOutOfBoundsException", "description": "\n<div class=\"user-content-block\">\n<p>There's a bug in method appendFixedWidthPadRight of class StrBuilder:</p>\n<p>public StrBuilder appendFixedWidthPadRight(Object obj, int width, char padChar) {<br/>\n        if (width &gt; 0) {<br/>\n            ensureCapacity(size + width);<br/>\n            String str = (obj == null ? getNullText() : obj.toString());<br/>\n            int strLen = str.length();<br/>\n            if (strLen &gt;= width) </p>\n{\n ==&gt;            str.getChars(0, strLen, buffer, size);   &lt;==== BUG: it should be str.getChars(0, width, buffer, size);\n            }\n<p> else {<br/>\n                int padLen = width - strLen;<br/>\n                str.getChars(0, strLen, buffer, size);<br/>\n                for (int i = 0; i &lt; padLen; i++) </p>\n{\n                    buffer[size + strLen + i] = padChar;\n                }\n<p>            }<br/>\n            size += width;<br/>\n        }<br/>\n        return this;<br/>\n    }</p>\n<p>This is causing an ArrayIndexOutOfBoundsException, so this method is unusable when strLen &gt; width.</p>\n<p>It's counterpart method appendFixedWidthPadLeft seems to be ok.</p>\n</div>\n"}