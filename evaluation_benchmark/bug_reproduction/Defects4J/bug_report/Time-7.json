{"issue_id": "21", "title": "DateTimeFormat.parseInto sometimes miscalculates year (2.2)", "description": "\n<p dir=\"auto\">There appears to be a bug in the fix to <a href=\"http://sourceforge.net/p/joda-time/bugs/148\" rel=\"nofollow\">http://sourceforge.net/p/joda-time/bugs/148</a> (which I also reported).</p>\n<p dir=\"auto\">The following code (which can be added to org.joda.time.format.TestDateTimeFormatter) breaks, because the input mutable date time's millis appear to be mishandled and the year for the parse is changed to 1999:</p>\n<div class=\"highlight highlight-source-java notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content='    public void testParseInto_monthDay_feb29_startOfYear() {\n        DateTimeFormatter f = DateTimeFormat.forPattern(\"M d\").withLocale(Locale.UK);\n        MutableDateTime result = new MutableDateTime(2000, 1, 1, 0, 0, 0, 0, NEWYORK);\n        assertEquals(4, f.parseInto(result, \"2 29\", 0));\n        assertEquals(new MutableDateTime(2000, 2, 29, 0, 0, 0, 0, NEWYORK), result);\n    }'><pre>    <span class=\"pl-k\">public</span> <span class=\"pl-smi\">void</span> <span class=\"pl-s1\">testParseInto_monthDay_feb29_startOfYear</span>() {\n        <span class=\"pl-smi\">DateTimeFormatter</span> <span class=\"pl-s1\">f</span> = <span class=\"pl-s1\">DateTimeFormat</span>.<span class=\"pl-en\">forPattern</span>(<span class=\"pl-s\">\"M d\"</span>).<span class=\"pl-en\">withLocale</span>(<span class=\"pl-smi\">Locale</span>.<span class=\"pl-c1\">UK</span>);\n        <span class=\"pl-smi\">MutableDateTime</span> <span class=\"pl-s1\">result</span> = <span class=\"pl-k\">new</span> <span class=\"pl-smi\">MutableDateTime</span>(<span class=\"pl-c1\">2000</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">1</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">NEWYORK</span>);\n        <span class=\"pl-en\">assertEquals</span>(<span class=\"pl-c1\">4</span>, <span class=\"pl-s1\">f</span>.<span class=\"pl-en\">parseInto</span>(<span class=\"pl-s1\">result</span>, <span class=\"pl-s\">\"2 29\"</span>, <span class=\"pl-c1\">0</span>));\n        <span class=\"pl-en\">assertEquals</span>(<span class=\"pl-k\">new</span> <span class=\"pl-smi\">MutableDateTime</span>(<span class=\"pl-c1\">2000</span>, <span class=\"pl-c1\">2</span>, <span class=\"pl-c1\">29</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">0</span>, <span class=\"pl-c1\">NEWYORK</span>), <span class=\"pl-s1\">result</span>);\n    }</pre></div>\n"}