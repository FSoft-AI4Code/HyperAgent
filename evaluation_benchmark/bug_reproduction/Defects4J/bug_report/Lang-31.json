{"issue_id": "LANG-607", "title": "StringUtils methods do not handle Unicode 2.0+ supplementary characters correctly.", "description": "\n<div class=\"user-content-block\">\n<p>StringUtils.containsAny methods incorrectly matches Unicode 2.0+ supplementary characters.</p>\n<p>For example, define a test fixture to be the Unicode character U+20000 where U+20000 is written in Java source as \"\\uD840\\uDC00\"</p>\n<p>\tprivate static final String CharU20000 = \"\\uD840\\uDC00\";<br/>\n\tprivate static final String CharU20001 = \"\\uD840\\uDC01\";</p>\n<p>You can see Unicode supplementary characters correctly implemented in the JRE call:</p>\n<p>\tassertEquals(-1, CharU20000.indexOf(CharU20001));</p>\n<p>But this is broken:</p>\n<p>\tassertEquals(false, StringUtils.containsAny(CharU20000, CharU20001));<br/>\n\tassertEquals(false, StringUtils.containsAny(CharU20001, CharU20000));</p>\n<p>This is fine:</p>\n<p>\tassertEquals(true, StringUtils.contains(CharU20000 + CharU20001, CharU20000));<br/>\n\tassertEquals(true, StringUtils.contains(CharU20000 + CharU20001, CharU20001));<br/>\n\tassertEquals(true, StringUtils.contains(CharU20000, CharU20000));<br/>\n\tassertEquals(false, StringUtils.contains(CharU20000, CharU20001));</p>\n<p>because the method calls the JRE to perform the match.</p>\n<p>More than you want to know:</p>\n<ul class=\"alternate\" type=\"square\">\n<li><a class=\"external-link\" href=\"http://java.sun.com/developer/technicalArticles/Intl/Supplementary/\" rel=\"nofollow noopener\" target=\"_blank\">http://java.sun.com/developer/technicalArticles/Intl/Supplementary/</a></li>\n</ul>\n</div>\n"}