{"issue_id": "951", "title": "Method nextElementSibling() returns null after adding an element to a document that was cloned", "description": "\n<p dir=\"auto\">If I clone a document, and add an element by the method <code class=\"notranslate\">after()</code>, and try to get the new element by the method <code class=\"notranslate\">nextElementSibling()</code> I get null. In the same time the method <code class=\"notranslate\">nextSibling()</code> successfully returns this element.<br/>\nIf I do the same with the original document everything is fine.</p>\n<p dir=\"auto\">Code:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content='String html = \"&lt;!DOCTYPE html&gt;&lt;html lang=\\\"en\\\"&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;Initial element&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\";\nDocument original = Jsoup.parse(html);\nDocument clone = original.clone();\n\nElement originalElement = original.body().child(0);\noriginalElement.after(\"&lt;div&gt;New element&lt;/div&gt;\");\nElement originalNextElementSibling = originalElement.nextElementSibling();\nElement originalNextSibling = (Element) originalElement.nextSibling();\nSystem.out.println(\"originalNextElementSibling:\\n\" + originalNextElementSibling);\nSystem.out.println(\"originalNextSibling:\\n\" + originalNextSibling);\nSystem.out.println();\n\nElement cloneElement = clone.body().child(0);\ncloneElement.after(\"&lt;div&gt;New element&lt;/div&gt;\");\nElement cloneNextElementSibling = cloneElement.nextElementSibling();\nElement cloneNextSibling = (Element) cloneElement.nextSibling();\nSystem.out.println(\"cloneNextElementSibling:\\n\" + cloneNextElementSibling);\nSystem.out.println(\"cloneNextSibling:\\n\" + cloneNextSibling);'><pre class=\"notranslate\"><code>String html = \"&lt;!DOCTYPE html&gt;&lt;html lang=\\\"en\\\"&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;Initial element&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\";\nDocument original = Jsoup.parse(html);\nDocument clone = original.clone();\n\nElement originalElement = original.body().child(0);\noriginalElement.after(\"&lt;div&gt;New element&lt;/div&gt;\");\nElement originalNextElementSibling = originalElement.nextElementSibling();\nElement originalNextSibling = (Element) originalElement.nextSibling();\nSystem.out.println(\"originalNextElementSibling:\\n\" + originalNextElementSibling);\nSystem.out.println(\"originalNextSibling:\\n\" + originalNextSibling);\nSystem.out.println();\n\nElement cloneElement = clone.body().child(0);\ncloneElement.after(\"&lt;div&gt;New element&lt;/div&gt;\");\nElement cloneNextElementSibling = cloneElement.nextElementSibling();\nElement cloneNextSibling = (Element) cloneElement.nextSibling();\nSystem.out.println(\"cloneNextElementSibling:\\n\" + cloneNextElementSibling);\nSystem.out.println(\"cloneNextSibling:\\n\" + cloneNextSibling);\n</code></pre></div>\n<p dir=\"auto\">Output:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"originalNextElementSibling:\n&lt;div&gt;\n New element\n&lt;/div&gt;\noriginalNextSibling:\n&lt;div&gt;\n New element\n&lt;/div&gt;\n\ncloneNextElementSibling:\nnull\ncloneNextSibling:\n&lt;div&gt;\nNew element\n&lt;/div&gt;\"><pre class=\"notranslate\"><code>originalNextElementSibling:\n&lt;div&gt;\n New element\n&lt;/div&gt;\noriginalNextSibling:\n&lt;div&gt;\n New element\n&lt;/div&gt;\n\ncloneNextElementSibling:\nnull\ncloneNextSibling:\n&lt;div&gt;\nNew element\n&lt;/div&gt;\n</code></pre></div>\n"}