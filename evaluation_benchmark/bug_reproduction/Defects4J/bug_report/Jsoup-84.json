{"issue_id": "848", "title": "W3CDom Helper fails to convert whenever some namespace declarations are missing", "description": "\n<p dir=\"auto\">Hello</p>\n<p dir=\"auto\">I've been running into an issue where if I convert my Jsoup parsed document into a org.w3c.dom.Document with the W3CDom helper and that document happens to be missing namespace declarations we get the following exception:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"NAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.\"><pre class=\"notranslate\"><code>NAMESPACE_ERR: An attempt is made to create or change an object in a way which is incorrect with regard to namespaces.\n</code></pre></div>\n<p dir=\"auto\">I've looked into this a bit and first thing I tried was using a locally forked version of the W3CDom helper that simply turned this flag off:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"factory.setNamespaceAware(false);\"><pre class=\"notranslate\"><code>factory.setNamespaceAware(false);\n</code></pre></div>\n<p dir=\"auto\">However the issue continued, so instead I simply hacked the code to completely ignore namespaces</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"// (csueiras): We purposely remove any namespace because we get malformed HTML that might not be\n// declaring all of it's namespaces!\nElement el = doc.createElementNS(&quot;&quot;, sourceEl.tagName());\"><pre class=\"notranslate\"><code>// (csueiras): We purposely remove any namespace because we get malformed HTML that might not be\n// declaring all of it's namespaces!\nElement el = doc.createElementNS(\"\", sourceEl.tagName());\n</code></pre></div>\n<p dir=\"auto\">I am not completely sure if this will have any side effects, but it resolved the issues with the document I'm interacting with. I would be glad to provide a pull request if I have some guidance regarding how to properly handle this issue if it can be handled by Jsoup.</p>\n<p dir=\"auto\">The document I'm having issues is simply making use of the Facebook like buttons using tags like this:</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"&lt;fb:like ...\"><pre class=\"notranslate\"><code>&lt;fb:like ...\n</code></pre></div>\n<p dir=\"auto\">But there's no namespace declaration for \"fb\".</p>\n"}