{"issue_id": "CSV-112", "title": "HeaderMap is inconsistent when it is parsed from an input with duplicate columns names", "description": "\n<div class=\"user-content-block\">\n<p>Given a parser format for csv files with a header line:</p>\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">CSVFormat myFormat = CSVFormat.RFC4180.withDelimiter(<span class=\"code-quote\">\",\"</span>).withQuoteChar(<span class=\"code-quote\">'\"'</span>).withQuotePolicy(Quote.MINIMAL)\n\t\t\t\t.withIgnoreSurroundingSpaces(<span class=\"code-keyword\">true</span>).withHeader().withSkipHeaderRecord(<span class=\"code-keyword\">true</span>);\n</pre>\n</div></div>\n<p>And given a file with duplicate header names:</p>\n<p>Col1,Col2,Col2,Col3,Col4<br/>\n1,2,3,4,5<br/>\n4,5,6,7,8 </p>\n<p>The HeaderMap returned by the parser misses an entry because of the Column name being used as a key, leading to wrong behavior when we rely on it.</p>\n<p>If this is not supposed to happen in the file regarding the CSV format, at least this should raise an error. If not we should come up with a more clever way to store and access the headers.</p>\n</div>\n"}